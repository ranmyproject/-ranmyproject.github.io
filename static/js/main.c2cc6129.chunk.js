(this["webpackJsonppankiyaan-frontend"]=this["webpackJsonppankiyaan-frontend"]||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(11),o=a.n(r),i=a(9),c=a(10),l=a(18),u=a(17),m=a(32),d=a(12),p=a(77),g=a(78),h=a(7),b=a(59),f=a.n(b),v=a(61),E=a.n(v),k=a(62),y=a.n(k),w=a(64),P=a.n(w),S=a(63),C=a.n(S),O=a(127),N=a(129),j=a(130),D=a(132),x=a(60),_=a.n(x),U=a(126),A={success:f.a,warning:_.a,error:E.a,info:y.a,loading:C.a},I=Object(U.a)((function(e){return{success:{backgroundColor:"#1bb873"},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:O.a[700]},loading:{backgroundColor:"#2779C0"},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}}));function T(e){var t=I(),a=e.className,n=e.message,r=e.onClose,o=e.variant,i=Object(g.a)(e,["className","message","onClose","variant"]),c=A[o];return s.a.createElement(D.a,Object.assign({className:Object(h.a)(t[o],a),"aria-describedby":"snackbar",message:s.a.createElement("span",{id:"snackbar",className:t.message},s.a.createElement(c,{className:Object(h.a)(t.icon,t.iconVariant)}),n),action:[s.a.createElement(N.a,{key:"close","aria-label":"close",color:"inherit",onClick:r},s.a.createElement(P.a,{className:t.icon}))]},i))}function L(e){var t=s.a.useState(e.open),a=Object(p.a)(t,2),n=a[0],r=a[1],o=function(t,a){"clickaway"!==a&&(r(!1),e.onClose())};return s.a.createElement(j.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:n,autoHideDuration:"loading"===e.variant?5e3:3e3,onClose:o},s.a.createElement(T,{onClose:o,variant:e.variant,message:e.message}))}var R=new(function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"setUserData",value:function(e){window.sessionStorage.setItem("user",JSON.stringify(e))}},{key:"getUserData",value:function(){return JSON.parse(window.sessionStorage.getItem("user"))}},{key:"getUserName",value:function(){return null===this.getUserData()?"":this.getUserData().name}},{key:"mobileNumberProcessed",value:function(e,t){window.sessionStorage.setItem("newUser",e),window.sessionStorage.setItem("mobile",t),window.sessionStorage.setItem("mobileNumberProcessed",!0)}},{key:"getMobileNumber",value:function(){return window.sessionStorage.getItem("mobile")}},{key:"isAuthenticated",value:function(){return null!==window.sessionStorage.getItem("user")}},{key:"getUserId",value:function(){return this.getUserData(),null===this.getUserData()?null:this.getUserData().userId}},{key:"isNormalUser",value:function(){return"NORMAL"===this.getUserData().type}},{key:"isAdmin",value:function(){return"ADMIN"===this.getUserData().type}},{key:"isSuperAdmin",value:function(){return"SUPERADMIN"===this.getUserData().type}},{key:"getToken",value:function(){return this.getUserData(),null===this.getUserData()?"":this.getUserData().token}}]),e}()),M=a(43),q=a.n(M),H=a(53),F=new(function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,[{key:"postData",value:function(){var e=Object(H.a)(q.a.mark((function e(t,a){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",userId:null===R.getUserId()?-1:R.getUserId(),Authorization:R.getToken()},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(a)});case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(H.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",userId:R.getUserId(),Authorization:R.getToken()},redirect:"follow",referrerPolicy:"no-referrer"});case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}()),G=a(65),V=a.n(G),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleCloseSnackbar=function(){n.setState({snackbarProps:{open:!1,message:"",variant:"success"}}),console.log(n.state)},n.logginUser=function(e,t){},n.loginUser=function(){n.setState({snackbarProps:{open:!0,message:"processing login request",variant:"loading"}}),F.postData("http://192.168.0.104:8000/api/user/verifyOtpPassword",n.state.user).then((function(e){e.success?(R.setUserData(e.data),n.setState({snackbarProps:{open:!0,message:"User logged in successfully",variant:"success"}}),setTimeout((function(){window.location.href="/dashboard"}),1e3)):(n.setState({loggedIn:!1}),n.setState({snackbarProps:{open:!0,message:e.error.message,variant:"error"}}))})).catch((function(e){console.log(e),n.setState({snackbarProps:{open:!0,message:"error while processing request",variant:"error"}})}))},n.setUserData=function(e,t){n.setState((function(a){return{user:Object(d.a)(Object(d.a)({},a.user),{},Object(m.a)({},e,t))}}))},n.state={user:{mobile:"",password:"",otp:"",otpLogin:!1},snackbarProps:{open:!1,message:"Hello World",variant:"success"}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.title="Panktiyaan | Login"}},{key:"signupOrLoginIn",value:function(e){var t=this,a={name:e.profileObj.givenName+" "+e.profileObj.familyName,email:e.profileObj.email,token:e.accessToken,Image:e.profileObj.imageUrl,ProviderId:"Google"};F.postData("http://192.168.0.104:8000/api/user/verifyGoogleAuth",{token:a.token}).then((function(e){e.success&&(e.data.newUser?window.location.href="/register?name="+a.name+"&email="+a.email+"&token="+a.token:(R.setUserData(e.data),t.setState({snackbarProps:{open:!0,message:"User logged in successfully",variant:"success"}}),setTimeout((function(){window.location.href="/dashboard"}),1e3)))})).catch((function(e){t.setState({snackbarProps:{open:!0,message:"error while processing request",variant:"error"}})}))}},{key:"render",value:function(){var e=this,t=function(t){e.signupOrLoginIn(t)};return s.a.createElement(s.a.Fragment,null,this.state.snackbarProps.open&&s.a.createElement(L,Object.assign({onClose:this.handleCloseSnackbar},this.state.snackbarProps)),s.a.createElement("div",{class:"signup-form row"},s.a.createElement("form",{onSubmit:function(t){e.loginUser(),t.preventDefault()},method:"post",class:"col-md-5 col-11 m-auto"},s.a.createElement("h3",null,"Login"),s.a.createElement("div",{className:"mx-auto table-display"},s.a.createElement(V.a,{clientId:"1087467545086-57aarlb1j1do6g1kdkfvr29casjnsboh.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:t,onFailure:t})),s.a.createElement("hr",null),s.a.createElement("h5",{className:"header text-center"},"Login(Using Password)"),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{onChange:function(t){return e.setUserData("mobile",t.target.value)},type:"mobile",class:"form-control",name:"mobile",placeholder:"Mobile number",required:"required"})),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{onChange:function(t){return e.setUserData("password",t.target.value)},type:"password",class:"form-control",name:"password",placeholder:"Password",required:"required"})),s.a.createElement("div",{class:"form-group"},s.a.createElement("button",{type:"submit",class:"btn btn-success btn-lg btn-block"},"Login")))))}}]),a}(n.Component),B=a(75),J=a(6);a(95),a(49);function W(){return s.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},s.a.createElement("a",{href:"/",className:"navbar-brand"},s.a.createElement("img",{src:"/images/logo.png",height:"28",alt:"CoolBrand"})),s.a.createElement("button",{id:"navDropdown",type:"button",className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarCollapse"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},s.a.createElement("div",{className:"navbar-nav"},s.a.createElement("a",{href:"/",className:"/"===window.location.pathname?"active nav-item nav-link":"nav-item nav-link"},"Home"),s.a.createElement("a",{href:"/dashboard",className:"/dashboard"===window.location.pathname?"active nav-item nav-link":"nav-item nav-link"},"Dashboard")),s.a.createElement("div",{className:"navbar-nav ml-auto"},s.a.createElement("a",{href:"/",onClick:function(e){e.preventDefault(),window.location.href="/login",sessionStorage.clear()},className:"nav-item nav-link"},R.isAuthenticated()?"Logout":"Login"))))}var Y=a(128),$=a(131),K=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).getCardObj=function(e,t,a,n){return{status:e,status_enum:t,text:a,count:n}},n.createObject=function(e){var t=[];R.isNormalUser()?(t.push(n.getCardObj("Submissions","ALL","Submitted posts count by user",e.submission)),t.push(n.getCardObj("Approved","APPROVED,POSTED","Approved posts count by Panktiyaan team",e.approved))):R.isAdmin()?(t.push(n.getCardObj("Pending","PENDING","Pending post count available for action",e.submission)),t.push(n.getCardObj("Approved","APPROVED","Approved posts count by Panktiyaan team",e.approved))):(t.push(n.getCardObj("Submissions","APPROVED","Submitted posts count by user",e.approved)),t.push(n.getCardObj("Posted","POSTED","Posts count published on homepage",e.posted))),n.setState({card_list:t})},n.loadData=function(){console.log("data loading"),F.getData(R.isAdmin()?"http://192.168.0.104:8000/api/post/getAdminPostCount":R.isSuperAdmin()?"http://192.168.0.104:8000/api/post/getSuperAdminPostCount":"http://192.168.0.104:8000/api/post/getUserPostCount").then((function(e){n.setState({post_count:e.data}),n.createObject(e.data)}))},n.redirectToPost=function(e,t){0!==e?window.location.href="/post?filter="+t:n.setState({snackbarProps:{open:!0,message:"No post found for this status",variant:"info"}})},n.handleShow=function(){n.setState({modeShow:!0})},n.handleClose=function(){n.setState({modeShow:!1})},n.handleCloseSnackbar=function(){n.setState({snackbarProps:{open:!1,message:"",variant:"success"}})},n.handleChangePostText=function(e){var t=e.target.value;n.setState({newPost:t})},n.submitPankti=function(){n.setState({snackbarProps:{open:!0,message:"processing post submission request",variant:"loading"}}),F.postData("http://192.168.0.104:8000/api/post/add",{text:n.state.newPost}).then((function(e){if(e.success){n.setState({snackbarProps:{open:!0,message:"post updated successfully",variant:"success"}});var t=n.state.post_count.submission+1;n.setState((function(e){return{post_count:Object(d.a)(Object(d.a)({},e.post_count),{},{submission:t})}})),n.createObject(n.state.post_count)}else n.setState({snackbarProps:{open:!0,message:e.error.message,variant:"error"}});n.handleClose()})).catch((function(e){console.log(e)}))},n.state={name:"",user_type:"",showSubmissions:!1,filterValue:"ALL",panktiyaan_list:[],post_count:{},from:0,to:10,total:0,filtered_panktiyaan_list:[],snackbarProps:{open:!1,message:"Hello World",variant:"success"},newPost:"",modeShow:!1,card_list:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.title="Panktiyaan | Dashboard",this.setState({name:R.getUserData().name,user_type:R.getUserData().type}),this.loadData()}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.snackbarProps.open&&s.a.createElement(L,Object.assign({onClose:this.handleCloseSnackbar},this.state.snackbarProps)),s.a.createElement("div",{className:"col-md-5 mx-auto"},s.a.createElement("div",{className:"mt-2 alert alert-success mt-2"},s.a.createElement("div",{className:"text-center"},"Welcome ",s.a.createElement("b",null,this.state.name))),"NORMAL"===this.state.user_type&&s.a.createElement("div",{className:"dashboard_info alert-info alert mt-2"},s.a.createElement("div",{className:"text-center"},s.a.createElement("p",null,0!==this.state.post_count.pending?"Your latest submission is in pending state.\n Please wait for new submission":0!==this.state.post_count.submission?"Your last submission is approved":"Create your first submission"),0===this.state.post_count.pending&&s.a.createElement("button",{className:"btn btn-success",onClick:this.handleShow},"Create New Submission"))),s.a.createElement("div",{id:"post-count",className:"row col-11 mx-auto justify-content-center"},this.state.card_list.map((function(t,a){return s.a.createElement("div",{className:"card col-md-5 m-2",onClick:function(){return e.redirectToPost(t.count,t.status_enum)}},s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"card-title text-center"},t.count),s.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},t.status),s.a.createElement("p",{className:"card-text"},t.text)))})))),s.a.createElement(Y.a,{show:this.state.modeShow,onHide:this.handleClose,animation:!1},s.a.createElement(Y.a.Header,{closeButton:!0},s.a.createElement(Y.a.Title,null,"Modal heading")),s.a.createElement(Y.a.Body,null,s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"recipient-name",className:"col-form-label"},"User:"),s.a.createElement("input",{disabled:!0,type:"text",className:"form-control",id:"recipient-name",value:this.state.name})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"message-text",className:"col-form-label"},"Message:"),s.a.createElement("textarea",{onChange:function(t){return e.handleChangePostText(t)},className:"form-control",id:"message-text",rows:"5"},this.state.newPost)))),s.a.createElement(Y.a.Footer,null,s.a.createElement($.a,{variant:"secondary",onClick:this.handleClose},"Close"),s.a.createElement($.a,{variant:"primary",onClick:this.submitPankti},"Submit"))))}}]),a}(n.Component),Q=a(76),X=a(70),Z=(a(96),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).submit=function(e){var t={title:"Are you sure?",message:s.a.createElement("p",null,"You want to ",s.a.createElement("b",null,e.action)," this pankti submitted by ",s.a.createElement("b",null,e.item.name),"?"),buttons:[{label:"Yes",onClick:function(){return n.takeAction(e.action,e.item.postId)}},{label:"No"}],willUnmount:function(){}};Object(X.confirmAlert)(t)},n.takeAction=function(e,t){F.postData("http://192.168.0.104:8000/api/post/updateStage",{postId:t,stage:e}).then((function(a){if(a.success){n.setState({snackbarProps:{open:!0,message:"Post "+e+" successfully",variant:"success"}});for(var s=n.state.panktiyaan_list,r=0;r<s.length;r++)s[r].postId===t&&(s[r].stage=e);n.setState({panktiyaan_list:s})}else n.setState({snackbarProps:{open:!0,message:a.data.message,variant:"error"}})})).catch((function(e){n.setState({snackbarProps:{open:!0,message:"error occured while processing request",variant:"error"}})}))},n.handleShow=function(e){n.setState({selectedPost:e,category:e.category}),n.setState({modeShow:!0})},n.handleClose=function(){n.setState({modeShow:!1})},n.postPankti=function(){var e=Object(d.a)({},n.state.selectedPost);e.category=n.state.category,n.setState({snackbarProps:{open:!0,message:"processing post submission request",variant:"loading"}}),F.postData("http://192.168.0.104:8000/api/post/updatePostDetail",e).then((function(t){if(t.success){n.setState({snackbarProps:{open:!0,message:"post updated successfully",variant:"success"}});for(var a=n.state.panktiyaan_list,s=0;s<a.length;s++)a[s].postId===e.postId&&(a[s]=e);n.setState({panktiyaan_list:a})}else n.setState({snackbarProps:{open:!0,message:t.data.message,variant:"error"}})})).catch((function(e){console.log(e)})),n.setState({modeShow:!1})},n.handleChangePostText=function(e){var t=e.target.value;n.setState((function(e){return{selectedPost:Object(d.a)(Object(d.a)({},e.selectedPost),{},{text:t})}}))},n.handleCategoryChange=function(e){n.setState({category:Object(Q.a)(e.target.selectedOptions).map((function(e){return e.value}))})},n.showRangeList=function(e){var t="prev"===e?n.state.from-4:n.state.to,a="prev"===e?n.state.from:n.state.to+4,s=n.state.panktiyaan_list;n.setState({filtered_panktiyaan_list:s.slice(t,a),from:t,to:a>n.state.total?n.state.total:a})},n.handleCloseSnackbar=function(){n.setState({snackbarProps:{open:!1,message:"",variant:"success"}})},n.state={modeShow:!1,availableFilter:["APPROVED","PENDING","REJECTED","POSTED","ALL"],selectedPost:{},panktiyaan_list:[],filtered_panktiyaan_list:[],category:[],from:0,total:0,to:4,snackbarProps:{open:!1,message:"Hello World",variant:"success"}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;document.title="Panktiyaan | Post";var t=new URLSearchParams(window.location.search).get("filter").split(",");this.state.availableFilter.some((function(e){return t.includes(e.toUpperCase())}))?F.getData(R.isAdmin()?"http://192.168.0.104:8000/api/post/getAdminPost":R.isSuperAdmin()?"http://192.168.0.104:8000/api/post/getSuperAdminPost":"http://192.168.0.104:8000/api/post/getUserPost").then((function(a){if(a.success){var n=a.data.posts,s="ALL"==t?n:n.filter((function(e){return t.includes(e.stage.toUpperCase())}));e.setState({panktiyaan_list:s,filtered_panktiyaan_list:s.slice(e.state.from,e.state.to),total:s.length})}})):window.location.href="/dashboard"}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.snackbarProps.open&&s.a.createElement(L,Object.assign({onClose:this.handleCloseSnackbar},this.state.snackbarProps)),s.a.createElement("div",{id:"submission_list"},this.state.filtered_panktiyaan_list.map((function(t,a){return s.a.createElement("div",{className:"card col-md-5 col-11 m-auto-horizontal"},s.a.createElement("div",{className:"card-body"},s.a.createElement("div",{className:"card-title"},s.a.createElement("h5",null,t.name),(R.isAdmin()||R.isSuperAdmin())&&s.a.createElement("div",{className:"d-flex justify-content-end"},s.a.createElement("button",{className:"btn btn-sm btn-success mx-1",onClick:e.submit.bind(e,{item:t,action:"APPROVED"})},"Approve"),s.a.createElement("button",{className:"btn btn-sm btn-danger mx-1",onClick:e.submit.bind(e,{item:t,action:"REJECTED"})},"Reject"),R.isSuperAdmin()&&s.a.createElement("button",{className:"btn btn-sm btn-info mx-1",onClick:e.handleShow.bind(e,t)},"Edit"))),s.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Status : ",t.stage),s.a.createElement("p",{className:"card-text"},t.text)))})),s.a.createElement("div",{className:"mx-auto col-md-5 d-flex justify-content-center"},this.state.from>0&&s.a.createElement("button",{className:"btn btn-primary mx-1",onClick:this.showRangeList.bind(this,"prev")},"Previous"),this.state.to<this.state.total&&s.a.createElement("button",{className:"btn btn-primary mx-1",onClick:this.showRangeList.bind(this,"next")},"Next"))),this.state.selectedPost&&s.a.createElement(Y.a,{show:this.state.modeShow,onHide:this.handleClose,animation:!1},s.a.createElement(Y.a.Header,{closeButton:!0},s.a.createElement(Y.a.Title,null,"Modal heading")),s.a.createElement(Y.a.Body,null,s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"recipient-name",className:"col-form-label"},"User:"),s.a.createElement("input",{disabled:!0,type:"text",className:"form-control",id:"recipient-name",value:this.state.selectedPost.name})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{for:"message-text",className:"col-form-label"},"Message:"),s.a.createElement("textarea",{onChange:function(t){return e.handleChangePostText(t)},className:"form-control",id:"message-text",rows:"5"},this.state.selectedPost.text)),s.a.createElement("div",{className:"input-group mb-3"},s.a.createElement("div",{className:"input-group-prepend"},s.a.createElement("label",{className:"input-group-text",for:"inputGroupSelect01"},"Options")),s.a.createElement("select",{onChange:function(t){return e.handleCategoryChange(t)},className:"custom-select",value:this.state.category,multiple:!0},s.a.createElement("option",{value:"HINDI"},"HINDI"),s.a.createElement("option",{value:"SPORT"},"SPORT"),s.a.createElement("option",{value:"TECH"},"TECH"),s.a.createElement("option",{value:"GAME"},"GAME"))))),s.a.createElement(Y.a.Footer,null,s.a.createElement($.a,{variant:"secondary",onClick:this.handleClose},"Close"),s.a.createElement($.a,{variant:"primary",onClick:this.postPankti},"Post"))))}}]),a}(n.Component)),ee=a(71),te=a(52),ae=a(73),ne=a.n(ae);function se(){var e=Object(ee.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return se=function(){return e},e}var re=Object(te.css)(se()),oe=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).showRangeList=function(e){var t="prev"===e?n.state.from-10:n.state.to,a="prev"===e?n.state.from:n.state.to+10,s=n.state.panktiyaan_list;n.setState({filtered_panktiyaan_list:s.slice(t,a),from:t,to:a>n.state.total?n.state.total:a})},n.loadData=function(){F.getData("http://192.168.0.104:8000/api/post/home").then((function(e){var t=e.data.posts;n.setState({loading:!1,panktiyaan_list:t,filtered_panktiyaan_list:t.slice(n.state.from,n.state.to),total:t.length})}))},n.state={panktiyaan_list:[],filtered_panktiyaan_list:[],from:0,total:0,to:10,loading:!0},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.title="Panktiyaan | Home",this.loadData()}},{key:"render",value:function(){return s.a.createElement("div",{id:"submission_list"},this.state.loading&&s.a.createElement("div",{className:"sweet-loading mt-5"},s.a.createElement(ne.a,{css:re,size:50,color:"#123abc",loading:this.state.loading})),!this.state.loading&&0===this.state.filtered_panktiyaan_list.length&&s.a.createElement("div",{class:"alert alert-info col-4 mx-auto mt-2",role:"alert"},"No post approved yet"),this.state.filtered_panktiyaan_list.map((function(e,t){return s.a.createElement("div",{class:"card col-md-5 col-11 m-auto-horizontal"},s.a.createElement("div",{class:"card-body"},s.a.createElement("div",{class:"card-title"},s.a.createElement("h5",null,"@ ",e.name)),s.a.createElement("p",{class:"card-text"},e.text)))})),s.a.createElement("div",{className:"mx-auto col-md-5 d-flex justify-content-center"},this.state.from>0&&s.a.createElement("button",{className:"btn btn-primary mx-1",onClick:this.showRangeList.bind(this,"prev")},"Previous"),this.state.to<this.state.total&&s.a.createElement("button",{className:"btn btn-primary mx-1",onClick:this.showRangeList.bind(this,"next")},"Next")))}}]),a}(n.Component),ie=a(74),ce=a.n(ie),le=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).verifyPassword=function(e){console.log(e)},n.registerUser=function(){n.state.user.password!==n.state.confirm_password&&alert("password didn't match"),console.log(n.state.user)},n.setUserData=function(e,t){n.setState((function(a){return{user:Object(d.a)(Object(d.a)({},a.user),{},Object(m.a)({},e,t))}}))},n.registerUser=function(){n.state.user.password===n.state.confirm_password?(n.setState({snackbarProps:{open:!0,message:"processing registration request",variant:"loading"}}),F.postData("http://192.168.0.104:8000/api/user/registration",n.state.user).then((function(e){e.success?(R.setUserData(e.data),n.setState({snackbarProps:{open:!0,message:"User registered in successfully",variant:"success"}}),setTimeout((function(){window.location.href="/dashboard"}),1e3)):n.setState({snackbarProps:{open:!0,message:e.error.message,variant:"error"}})})).catch((function(e){console.log(e),n.setState({snackbarProps:{open:!0,message:"error while processing request",variant:"error"}})}))):n.setState({snackbarProps:{open:!0,message:"password didn't match",variant:"error"}})},n.state={user:{name:"",email:"",password:"",instaHandle:"",mobile:"",token:""},confirm_password:"",snackbarProps:{open:!1,message:"Hello World",variant:"success"}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=ce.a.parse(this.props.location.search);e.token||e.email||(window.location.href="/login"),this.setState((function(t){return{user:Object(d.a)(Object(d.a)({},t.user),{},{name:e.name,token:e.token,email:e.email})}}))}},{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,this.state.snackbarProps.open&&s.a.createElement(L,Object.assign({onClose:this.handleCloseSnackbar},this.state.snackbarProps)),s.a.createElement("div",{class:"signup-form row"},s.a.createElement("form",{onSubmit:function(t){e.registerUser(),t.preventDefault()},class:"col-md-5 col-11 m-auto"},s.a.createElement("h3",null,"Register"),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{onChange:function(t){return e.setUserData("name",t.target.value)},value:this.state.user.name,type:"text",class:"form-control",name:"name",placeholder:"Name",required:"required"})),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{disabled:!0,value:this.state.user.email,type:"email",class:"form-control",name:"email",placeholder:"Email"})),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{onChange:function(t){return e.setUserData("mobile",t.target.value)},type:"mobile",class:"form-control",name:"mobile",placeholder:"Mobile number"})),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{onChange:function(t){return e.setUserData("instaHandle",t.target.value)},type:"text",class:"form-control",name:"instaHandle",placeholder:"Instagram profile ID"})),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{onChange:function(t){return e.setUserData("password",t.target.value)},type:"password",class:"form-control",name:"password",placeholder:"Password",required:"required"})),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{onChange:function(t){return e.setState({confirm_password:t.target.value})},type:"password",class:"form-control",name:"confirm_password",placeholder:"Confirm Password",required:"required"})),s.a.createElement("div",{class:"form-group"},s.a.createElement("button",{type:"submit",class:"btn btn-success btn-lg btn-block"},"Register Now")),s.a.createElement("div",{class:"text-center"},"Already have an account? ",s.a.createElement("a",{href:"/login"},"Sign in")))))}}]),a}(n.Component),ue=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement(B.a,null,s.a.createElement(W,null),s.a.createElement(J.d,null,s.a.createElement(J.b,{path:"/login",render:function(){return R.isAuthenticated()?s.a.createElement(J.a,{to:"/dashboard"}):s.a.createElement(z,null)}}),s.a.createElement(J.b,{path:"/register",component:le}),s.a.createElement(J.b,{path:"/post",render:function(){return R.isAuthenticated()?s.a.createElement(Z,null):s.a.createElement(J.a,{to:"/login"})}}),s.a.createElement(J.b,{path:"/dashboard",render:function(){return R.isAuthenticated()?s.a.createElement(K,null):s.a.createElement(J.a,{to:"/login"})}}),s.a.createElement(J.b,{path:"/",render:function(){return R.isAuthenticated()?s.a.createElement(oe,null):s.a.createElement(J.a,{to:"/login"})}}),s.a.createElement(J.b,{path:"*",render:function(){return R.isAuthenticated()?s.a.createElement(J.a,{to:"/"}):s.a.createElement(J.a,{to:"/login"})}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){e.exports=a(104)},95:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.c2cc6129.chunk.js.map